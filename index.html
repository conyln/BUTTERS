<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BUTTERS</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  </head>

  <body data-theme="light">
    <!-- Floating Butters Head -->
    <img
      src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExZ3RydzRoc214Y3lreDcwYmhuaGZ5ZWMyOHNwc3l4aXAwcW9rZTZiNCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/9epLcGP4t7YTLNOxpo/giphy.gif"
      alt="Floating Butters Head"
      class="floating-butters-head"
    />

    <!-- Header with svg Title -->
    <header>
      <object
        id="header-svg"
        data="img/BUTTERS_SHOW.svg"
        type="image/svg+xml"
        aria-label="Butters Show Title"
      ></object>
      <div id="circle-butters-container">
        <object
          id="circle-butters-svg"
          data="img/BUTTERS.svg"
          type="image/svg+xml"
          aria-label="Butters svg"
        ></object>
      </div>
    </header>

    <main>
      <!-- Section: Role Evolution -->
      <section id="role-evolution" aria-label="Character Role Evolution">
        <h2>1. Character Role Evolution</h2>
        <svg id="roleEvolutionChart" class="chart-svg"></svg>
        <p>
          Butters evolved from a background character to a core figure, gaining
          narrative depth and complexity over time.
        </p>
      </section>

      <!-- Section: Presence per Season -->
     <section id="presence-season" aria-label="Character Presence per Season">
  <h2>2. Presence per Season</h2>

  <!-- SVG -->
  <svg xmlns="http://www.w3.org/2000/svg" width="805" height="600">
    <rect width="805" height="600" x="0" y="0" fill="#6db7ec" id="background" />
    <g id="viz">
      <g transform="translate(0,0)">
        <g transform="translate(0,20)">
          <g>
            <!-- PRESENCE -->
            <path 
              fill="#006644" 
              d="M0,476L32.2,448L64.4,420L96.6,336L128.8,280L161,168.00000000000003L193.2,251.99999999999997L225.4,224L257.6,280L289.8,251.99999999999997L322,196L354.2,224L386.4,251.99999999999997L418.6,280L450.8,308L483,251.99999999999997L515.2,336L547.4,308L579.6,280L611.8,308L644,280L676.2,336L708.4,364L740.6,476L772.8,448L805,420L805,560L772.8,560L740.6,560L708.4,560L676.2,560L644,560L611.8,560L579.6,560L547.4,560L515.2,560L483,560L450.8,560L418.6,560L386.4,560L354.2,560L322,560L289.8,560L257.6,560L225.4,560L193.2,560L161,560L128.8,560L96.6,560L64.4,560L32.2,560L0,560Z">
              <title>PRECENCE</title>
            </path>

            <!-- MAIN ROLE -->
            <path 
              fill="#ffffff" 
              d="M0,476L32.2,448L64.4,420L96.6,308L128.8,224L161,28.000000000000025L193.2,168.00000000000003L225.4,168.00000000000003L257.6,251.99999999999997L289.8,168.00000000000003L322,84.00000000000001L354.2,140L386.4,196L418.6,224L450.8,280L483,196L515.2,308L547.4,251.99999999999997L579.6,196L611.8,251.99999999999997L644,224L676.2,308L708.4,364L740.6,476L772.8,420L805,392L805,420L772.8,448L740.6,476L708.4,364L676.2,336L644,280L611.8,308L579.6,280L547.4,308L515.2,336L483,251.99999999999997L450.8,308L418.6,280L386.4,251.99999999999997L354.2,224L322,196L289.8,251.99999999999997L257.6,280L225.4,224L193.2,251.99999999999997L161,168.00000000000003L128.8,280L96.6,336L64.4,420L32.2,448L0,476Z">
              <title>MAIN ROLE</title>
            </path>
          </g>

          <!-- Eje X -->
          <g id="xAxis" transform="translate(0,560)" fill="none" font-size="10" font-family="sans-serif" text-anchor="middle">
            <path class="domain" stroke="currentColor" d="M0,0H805"/>
            <g class="tick" opacity="1" transform="translate(32.2,0)"><line stroke="currentColor" y2="6"/><text fill="currentColor" y="9" dy="0.71em">2</text></g>
            <g class="tick" opacity="1" transform="translate(96.6,0)"><line stroke="currentColor" y2="6"/><text fill="currentColor" y="9" dy="0.71em">4</text></g>
            <g class="tick" opacity="1" transform="translate(161,0)"><line stroke="currentColor" y2="6"/><text fill="currentColor" y="9" dy="0.71em">6</text></g>
            <g class="tick" opacity="1" transform="translate(225.4,0)"><line stroke="currentColor" y2="6"/><text fill="currentColor" y="9" dy="0.71em">8</text></g>
            <g class="tick" opacity="1" transform="translate(289.8,0)"><line stroke="currentColor" y2="6"/><text fill="currentColor" y="9" dy="0.71em">10</text></g>
            <g class="tick" opacity="1" transform="translate(354.2,0)"><line stroke="currentColor" y2="6"/><text fill="currentColor" y="9" dy="0.71em">12</text></g>
            <g class="tick" opacity="1" transform="translate(418.6,0)"><line stroke="currentColor" y2="6"/><text fill="currentColor" y="9" dy="0.71em">14</text></g>
            <g class="tick" opacity="1" transform="translate(483,0)"><line stroke="currentColor" y2="6"/><text fill="currentColor" y="9" dy="0.71em">16</text></g>
            <g class="tick" opacity="1" transform="translate(547.4,0)"><line stroke="currentColor" y2="6"/><text fill="currentColor" y="9" dy="0.71em">18</text></g>
            <g class="tick" opacity="1" transform="translate(611.8,0)"><line stroke="currentColor" y2="6"/><text fill="currentColor" y="9" dy="0.71em">20</text></g>
            <g class="tick" opacity="1" transform="translate(676.2,0)"><line stroke="currentColor" y2="6"/><text fill="currentColor" y="9" dy="0.71em">22</text></g>
            <g class="tick" opacity="1" transform="translate(740.6,0)"><line stroke="currentColor" y2="6"/><text fill="currentColor" y="9" dy="0.71em">24</text></g>
            <g class="tick" opacity="1" transform="translate(805,0)"><line stroke="currentColor" y2="6"/><text fill="currentColor" y="9" dy="0.71em">26</text></g>
          </g>

          <!-- Labels -->
          <text y="556" x="805" text-anchor="end" style="font-family: Arial, sans-serif; font-size: 12px; fill: rgb(123, 123, 123); font-weight: bold;">SEASON</text>
          <text x="4" text-anchor="start" dominant-baseline="hanging" style="font-family: Arial, sans-serif; font-size: 12px; fill: rgb(123, 123, 123); font-weight: bold;">EPISODES</text>
        </g>
      </g>
    </g>
  </svg>

  <!-- Leyenda -->
  <div class="legend" style="display: flex; gap: 20px; margin-top: 10px;">
    <div style="display: flex; align-items: center; gap: 6px;">
      <div style="width: 16px; height: 16px; background-color: #006644; border: 1px solid #333;"></div>
      <span>Presencia</span>
    </div>
    <div style="display: flex; align-items: center; gap: 6px;">
      <div style="width: 16px; height: 16px; background-color: #fff; border: 1px solid #aaa;"></div>
      <span>Personaje principal</span>
    </div>
  </div>

  <p>
    The chart shows Butters' presence throughout the seasons, highlighting
    growth and episodic appearances.
  </p>
</section>

      <!-- Section: Protagonism Comparison -->
      <section id="protagonism-comparison" aria-label="Protagonism Comparison">
        <h2>3. Protagonism by Season (Comparison)</h2>
        <svg id="protagonismFlowChart" class="chart-svg"></svg>
        <p>
          Comparing Butters' protagonism to main characters: Stan, Kyle,
          Cartman, and Kenny.
        </p>
      </section>

      <!-- Section: Stats Comparison -->
      <section
        id="stats-comparison"
        aria-label="Stats Comparison with Main Characters"
      >
        <h2>4. Stats Comparison</h2>
        <canvas
          id="statsComparisonChart"
          aria-label="Radar chart comparing characters"
        ></canvas>
      </section>

      <!-- Section: Identity Duality -->
      <section id="identity-duality" aria-label="Butters vs Professor Chaos">
        <h2>5. Dual Identity: Butters vs Professor Chaos</h2>
        <div class="card-container">
          <div
            class="flip-card"
            tabindex="0"
            role="button"
            aria-pressed="false"
            aria-label="Butters Card"
          >
            <div class="flip-card-inner">
              <div class="flip-card-front">
                <object
                  data="img/BUTTERS.svg"
                  type="image/svg+xml"
                  aria-label="Butters Image"
                ></object>
                <h3>Butters</h3>
              </div>
              <div class="flip-card-back">
                <p>
                  Innocent, obedient, and often the victim of circumstances.
                  Beloved for his vulnerability.
                </p>
              </div>
            </div>
          </div>

          <div
            class="flip-card"
            tabindex="0"
            role="button"
            aria-pressed="false"
            aria-label="Professor Chaos Card"
          >
            <div class="flip-card-inner">
              <div class="flip-card-front">
                <object
                  data="img/PROFFESSOR_CHAOS.svg"
                  type="image/svg+xml"
                  aria-label="Professor Chaos Image"
                ></object>
                <h3>Professor Chaos</h3>
              </div>
              <div class="flip-card-back">
                <p>
                  Chaotic, vengeful alter ego fueled by rejection and
                  frustration.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Section: Crimes -->
      <section
        id="crimes"
        aria-label="Crimes Committed by Butters, Professor Chaos and Cartman"
      >
        <h2>6. Crimes Committed</h2>
        <div class="crimes-container">
          <div class="crimes-list" id="crimes-list"></div>
        </div>
      </section>
    </main>

    <footer>
      <p style="font-size: 14px; line-height: 1.2;">
    Data unofficial, compiled from South Park episodes.<br>
    Designed by <a href="https://github.com/conyln" target="_blank" style="color: #005751; text-decoration: underline;">Conyln (*ᴗ͈ˬᴗ͈)ꕤ*.ﾟ ☆
    </a><br>
    Dare to meet another 
    <a href="https://conyln.github.io/dno096-13/" target="_blank" style="color: #005751; text-decoration: underline;">VILLAIN</a> like PROFESSOR CHAOS?
  </p>
    </footer>

    <script src="script.js"></script>
  </body>
</html>
